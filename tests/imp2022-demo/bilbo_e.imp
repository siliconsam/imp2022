
! Store a simple value
%owninteger fubar %alias "fubar" = 5

! Store a simple count
%owninteger count %alias "count" = 3

%external %routine zerocount %alias "xzero"
    count = 0
%end

%external %routine increment %alias "xinc"
    %on %event 11 %start
        count = -8
    %finish

    count = count + 1
    %signal 11 %if count = 8
%end

%external %routine decrement %alias "xdec"
    %on %event 11 %start
        count = 7
    %finish

    count = count - 1
    %signal 11 %if count = -9
%end

%external %integer %function value %alias "xvalue"
    %result = count
%end

%routine getPC %alias "get_pc"
    *mov_ %eax,[%ebp+4]
%end

%endoffile
